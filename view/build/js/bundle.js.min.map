{"version":3,"sources":["app.js","crudUsGen.js"],"names":["pagina","iniciarApp","registrarCliente","mostrarSeccion","cambiarSeccion","wachBoton","document","addEventListener","lista1","querySelector","lista2","Sortable","create","group","animation","error","console","log","registrar","overlay","e","classList","contains","remove","add","querySelectorAll","forEach","enlace","preventDefault","parseInt","target","dataset","paso","cargarUsGen","click","async","resultado","fetch","tablaUsuGen","json","buscar","datos","FormData","method","body","then","res","data","insertar","db","tbody","textContent","doc","nom","ape","correo","celular","sexo","fechanaci","fechanIn","direc","ciudad","row","createElement","documento","nombre","apellido","phone","gmail","genero","naci","ingreso","direction","city","actualizar","eliminar","formEli","confirm","get","formAct","cargarFormulario","inputdoc","type","name","value","appendChild","inputdo","inputAct","inputEli","dato"],"mappings":"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","file":"bundle.js","sourcesContent":["let pagina = 1;\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n    registrarCliente();\r\n    mostrarSeccion();\r\n    cambiarSeccion();\r\n    wachBoton();\r\n}\r\n\r\ntry {\r\n    const lista1 = document.querySelector('.lista1');\r\n    const lista2 = document.querySelector('.lista2');\r\n\r\n    Sortable.create(lista1, {\r\n        group: 'shared',\r\n        animation: 150\r\n    });\r\n\r\n    Sortable.create(lista2, {\r\n        group: 'shared',\r\n        animation: 150\r\n\r\n    });\r\n} catch (error) {\r\n    console.log(error);\r\n}\r\n\r\n\r\nfunction registrarCliente() {\r\n\r\n    if (document.querySelector('#registrar') != null && document.querySelector('#overlay') != null) {\r\n\r\n        const registrar = document.querySelector('#registrar');\r\n        const overlay = document.querySelector('#overlay');\r\n\r\n        registrar.addEventListener('click', e => {\r\n            if (overlay.classList.contains('overlay')) {\r\n                overlay.classList.remove('overlay');\r\n                overlay.classList.add('overlays');\r\n            } else {\r\n                overlay.classList.remove('overlays');\r\n                overlay.classList.add('overlay');\r\n            }\r\n        });\r\n\r\n        const cerrarForm = document.querySelector('.cerrar')\r\n\r\n        cerrarForm.addEventListener('click', e => {\r\n            overlay.classList.remove('overlays');\r\n            overlay.classList.add('overlay');\r\n        });\r\n    }\r\n}\r\n\r\n\r\nfunction mostrarSeccion() {\r\n    const seccionActual = document.querySelector(`#paso-${pagina}`);\r\n    seccionActual.classList.add('mostrar-seccion');\r\n\r\n    //Resalta el tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n    tab.classList.add('actual');\r\n}\r\n\r\n\r\nfunction cambiarSeccion() {\r\n    const enlaces = document.querySelectorAll('.tabs button img');\r\n    enlaces.forEach(enlace => {\r\n        enlace.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            pagina = parseInt(e.target.dataset.paso);\r\n\r\n            // Eliminar la seccion anterior\r\n            document.querySelector('.mostrar-seccion').classList.remove('mostrar-seccion');\r\n\r\n            //Agraga\r\n            const seccion = document.querySelector(`#paso-${pagina}`);\r\n            seccion.classList.add('mostrar-seccion');\r\n\r\n            //Elimina tab activado anterior\r\n            document.querySelector('.tabs .actual').classList.remove('actual');\r\n            //Activa tab activado\r\n            const tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n            tab.classList.add('actual');\r\n\r\n        })\r\n    })\r\n}\r\n\r\n\r\n","function wachBoton() {\r\n    const d = document.querySelector('#btntable');\r\n    d.addEventListener('click', e => {\r\n        cargarUsGen();\r\n        document.querySelector('#btntable img').click(); \r\n    });\r\n}\r\n\r\nasync function cargarUsGen() {\r\n    try {\r\n        const resultado = await fetch('insertUsGen.php');\r\n        const db = await resultado.json();\r\n        tablaUsuGen(db);\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n\r\n\r\n/* Funcionde buscar para usuario general */\r\nconst buscar = document.querySelector('#formulario');\r\nbuscar.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n    const datos = new FormData(buscar);\r\n\r\n\r\n    fetch('insertUsGen.php', {\r\n        method: 'POST',\r\n        body: datos\r\n    })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            tablaUsuGen(data)\r\n        })\r\n\r\n    document.querySelector('[data-paso=\"1\"]').classList.remove('actual');\r\n    document.querySelector('.mostrar-seccion').classList.remove('mostrar-seccion');\r\n    document.querySelector('#paso-2').classList.add('mostrar-seccion');\r\n    document.querySelector(`[data-paso=\"2\"]`).classList.add('actual');\r\n\r\n});\r\n\r\nconst insertar = document.querySelector('#insertarUsuGeneri');\r\ninsertar.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n    const datos = new FormData(insertar);\r\n    console.log(datos.get('Cedula'));\r\n\r\n    \r\n    fetch('insertUsGen.php', {\r\n        method: 'POST',\r\n        body: datos\r\n    })\r\n\r\n    document.querySelector('#btntable img').click();  \r\n});\r\n\r\n\r\nfunction tablaUsuGen(db) {\r\n    const tbody = document.querySelector('.tbody');\r\n    tbody.textContent = '';\r\n    db.forEach(db => {\r\n        const { doc, nom, ape, correo, celular, sexo, fechanaci, fechanIn, direc, ciudad } = db;\r\n\r\n        const row = document.createElement('TR');\r\n\r\n        const documento = document.createElement('TD');\r\n        documento.textContent = `${doc}`;\r\n\r\n        const nombre = document.createElement('TD');\r\n        nombre.textContent = `${nom}`;\r\n\r\n        const apellido = document.createElement('TD');\r\n        apellido.textContent = `${ape}`;\r\n\r\n        const phone = document.createElement('TD');\r\n        phone.textContent = `${celular}`;\r\n\r\n        const gmail = document.createElement('TD');\r\n        gmail.textContent = `${correo}`;\r\n\r\n        const genero = document.createElement('TD');\r\n        genero.textContent = `${sexo}`;\r\n\r\n        const naci = document.createElement('TD');\r\n        naci.textContent = `${fechanaci}`;\r\n\r\n        const ingreso = document.createElement('TD');\r\n        ingreso.textContent = `${fechanIn}`;\r\n\r\n        const direction = document.createElement('TD');\r\n        direction.textContent = `${direc}`;\r\n\r\n        const city = document.createElement('TD');\r\n        city.textContent = `${ciudad}`;\r\n\r\n        const actualizar = document.createElement('TD');\r\n        const eliminar = document.createElement('TD');\r\n\r\n        const formEli = document.createElement('FORM');\r\n        formEli.method = 'POST';\r\n        formEli.classList.add('formeliminar');\r\n        formEli.addEventListener('submit', e => {\r\n            e.preventDefault();\r\n            if (confirm('Seguro deseas Eliminarlo')) {\r\n\r\n                const datos = new FormData(formEli);\r\n\r\n                console.log(datos.get('codigoE'));\r\n\r\n                fetch('insertUsGen.php', {\r\n                    method: 'POST',\r\n                    body: datos\r\n                })\r\n            }\r\n        });\r\n\r\n        const formAct = document.createElement('FORM');\r\n        formAct.method = 'POST';\r\n        formAct.classList.add('formactualizar');\r\n        formAct.addEventListener('submit', e => {\r\n            e.preventDefault();\r\n            const datos = new FormData(formAct);\r\n\r\n            console.log(datos.get('codigoA'));\r\n\r\n\r\n            fetch('insertUsGen.php', {\r\n                method: 'POST',\r\n                body: datos\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    cargarFormulario(data)\r\n                })\r\n            document.querySelector('[data-paso=\"2\"]').classList.remove('actual');\r\n            document.querySelector('.mostrar-seccion').classList.remove('mostrar-seccion');\r\n            document.querySelector('#paso-3').classList.add('mostrar-seccion');\r\n            document.querySelector(`[data-paso=\"3\"]`).classList.add('actual');\r\n        });\r\n\r\n        const inputdoc = document.createElement('INPUT');\r\n        inputdoc.type = 'hidden';\r\n        inputdoc.name = 'codigoE';\r\n        inputdoc.value = `${doc}`;\r\n        formEli.appendChild(inputdoc);\r\n\r\n        const inputdo = document.createElement('INPUT');\r\n        inputdo.type = 'hidden';\r\n        inputdo.name = 'codigoA';\r\n        inputdo.value = `${doc}`;\r\n        formAct.appendChild(inputdo);\r\n\r\n\r\n        const inputAct = document.createElement('INPUT');\r\n        inputAct.type = 'submit';\r\n        inputAct.name = 'actualizar';\r\n        inputAct.value = 'Actualizar';\r\n        inputAct.classList.add('btnAct');\r\n        formAct.appendChild(inputAct);\r\n\r\n        const inputEli = document.createElement('INPUT');\r\n        inputEli.type = 'submit';\r\n        inputEli.name = 'eliminar';\r\n        inputEli.value = 'Eliminar';\r\n        formEli.appendChild(inputEli);\r\n\r\n        actualizar.appendChild(formAct);\r\n        eliminar.appendChild(formEli);\r\n\r\n        row.appendChild(documento);\r\n        row.appendChild(nombre);\r\n        row.appendChild(apellido);\r\n        row.appendChild(gmail);\r\n        row.appendChild(phone);\r\n        row.appendChild(genero);\r\n        row.appendChild(naci);\r\n        row.appendChild(ingreso);\r\n        row.appendChild(direction);\r\n        row.appendChild(city);\r\n        row.appendChild(actualizar);\r\n        row.appendChild(eliminar);\r\n        tbody.appendChild(row);\r\n\r\n    });\r\n}\r\n\r\n\r\nfunction cargarFormulario(datos){\r\n    datos.forEach(dato => {\r\n        const { doc, nom, ape, correo, celular, sexo, fechanaci, fechanIn, direc, ciudad } = dato;\r\n        document.querySelector('#Cedula').value=`${doc}`;\r\n        document.querySelector('#Nombre').value=`${nom}`;\r\n        document.querySelector('#Apellido').value=`${ape}`;\r\n        document.querySelector('#Correo').value=`${correo}`;\r\n        document.querySelector('#Celular').value=`${celular}`;\r\n        document.querySelector('#fecha').value=`${fechanaci}`;\r\n        document.querySelector('#Dirección').value=`${direc}`;\r\n        document.querySelector('#Ciudad').value=`${ciudad}`;\r\n    });\r\n}"]}